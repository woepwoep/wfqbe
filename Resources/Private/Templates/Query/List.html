{namespace v=FluidTYPO3\Vhs\ViewHelpers}

<f:comment>
  
</f:comment>  

<h3>EXT:wfqbe/Resources/Private/Templates/Query/List.html</h3>

<v:variable.set name="wfqbe_add_image" value='fileadmin/wfqbe/css/images/add.png' />
<v:variable.set name="wfqbe_edit_image" value='fileadmin/wfqbe/css/images/edit.gif' />
<v:variable.set name="wfqbe_delete_image" value='fileadmin/wfqbe/css/images/delete.gif' />

<h1>
  Dit is de Default Result Template
</h1>

<f:debug>{_all}</f:debug>

<div class="container">
  <div id="Listing">
    <div class="wfqbe_description">
      {flexformdata.caption}
      <f:link.action controller="Cud" pluginName="Picud" action="add" pageUid="16" >
        <f:image src="{wfqbe_add_image}" alt="Add record" width="17"/>
      </f:link.action>
    </div>
  
    <div class="table-responsive"> 
      <table class="table table-bordered table-hover table-condensed">
        <thead class="wfqbe_table_header">
          <tr>
            <f:for each="{columnNames}" as="columnName">
            		<th>
                        	<f:link.action action="sort" arguments="{orderby: '{columnName} {volgorde}'}" title="Sorteer op {columnName} ">
            				{columnName}
							</f:link.action>
                    	</th>
              		 
			</f:for>
			<f:if condition="{flexformdata.cudPage}">
				<th> Edit - Delete </th>
			</f:if>
          </tr>
        </thead>
  
        <tbody>
       		<f:for each="{rows}" as="row" >
        			<tr>
                      
                      <f:for each="{row}" as="veld" iteration="i" >
                      	<f:if condition="{columnNames.{i.index}}=={flexformdata.linkField}">
                          <f:then><td><f:link.action pageUid="{flexformdata.childPage}" arguments="{koppelveld: '{row.uid}'}"> 
									{row.{columnNames.{i.index}}}
									</f:link.action>
                            </td>
                          </f:then>
                          <f:else><td>{row.{columnNames.{i.index}}}</td></f:else>
                        </f:if>
                        </f:for>
                     
                     
						<f:if condition="{flexformdata.cudPage}">
							<td>
								<f:link.action controller="Cud" pluginName="Picud" action="edit" pageUid="{flexformdata.cudPage}" arguments="{keyValue: '{row.uid}'}" >
									<f:image src="{wfqbe_edit_image}" title="record wijzigen" alt="edit" width="17"/>
								</f:link.action>
								&nbsp;-&nbsp;
								<f:link.action controller="Cud" pluginName="Picud" action="delete" pageUid="{flexformdata.cudPage}" arguments="{keyValue: '{row.uid}' }" >
									<f:image src="{wfqbe_delete_image}" title="record verwijderen" alt="delete" width="17"/>
								</f:link.action>
							</td>
						</f:if>
         			</tr>
       			</f:for>   
  			</tbody>		
  		</tbody>
      </table>
    </div>
  </div>
</div>
